Bootstrap: docker
From: ubuntu:24.04

%files
    ../../ESD7-Project $HOME/

%environment
    export TF_ENABLE_ONEDNN_OPTS=0
    export TMPDIR=/scratch/ESD7-Project/tmp
    export ESD7-PROJECT=$HOME/ESD7-Project

%post
    mkdir -p $TMPDIR

    cd ESD7-PROJECT

    apt-get update
    apt-get upgrade -y
    xargs -a ai-lab/apt_req.txt apt-get install -y

    curl -LsSf https://astral.sh/uv/install.sh | sh

    uv sync --no-cache

    uv cache clean

%test
    uv run python --version

%labels
    Author kban20@student.aau.dk
    Version v0.0.1

%help
    This is a template container for easy use on ai-lab